{"version":1,"windowDimensions":{"x":0,"y":0,"width":1440,"height":873,"maximized":false},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/Users/vmaudgalya/projects/personal/dashboard/client"],"buffers":[{"id":"1e281b327bb7d55d17071bc30911c6cb","text":"import Reflux from 'Reflux'\nimport React from 'react'\nimport { RaisedButton, TextField, SelectField } from 'material-ui'\nimport DashboardActions from '../actions/DashboardActions'\nimport Store from '../stores'\nimport { History } from 'react-router'\nimport injectTapEventPlugin from 'react-tap-event-plugin'\ninjectTapEventPlugin()\n\nconst DrugDetails = React.createClass({\n\n  mixins: [Reflux.connect(Store), History],\n\n  _handleNameOnChange(e) {\n    this.setState({ drugName: e.target.value })\n  },\n\n  _handleClassOnChange(e) {\n    this.setState({ drugClass: e.target.value })\n  },\n\n  _handleRegulationOnChange(e, selectedIndex, menuItem) {\n    this.setState({ drugRegulation: menuItem.text })\n  },\n\n  _handleSymptomsOnChange(e) {\n    this.setState({ drugSymptoms: e.target.value })\n  },\n\n  _handleInteractionsOnChange(e) {\n    this.setState({ drugInteractions: e.target.value })\n  },\n\n  _handleDosageOnChange(e) {\n    this.setState({ drugDosage: e.target.value })\n  },\n\n  _validateFieldsPopulated() {\n    if (this.state.drugName && this.state.drugClass &&\n      this.state.drugSymptoms && this.state.drugInteractions && this.state.drugDosage) {\n        return false\n      }\n    return true\n  },\n\n  _handleItemSubmit() {\n    let today = new Date()\n    let month = (today.getMonth()%12)+1\n    month = (month < 10 ? '0' + month : month)\n    let drug = {\n      drugName: this.state.drugName,\n      drugClass: this.state.drugClass,\n      drugRegulation: (this.state.drugRegulation ? this.state.drugRegulation : 'Over the counter'),\n      drugSymptoms: this.state.drugSymptoms,\n      drugInteractions: this.state.drugInteractions,\n      drugDosage: this.state.drugDosage,\n      username: this.state.username,\n      date: `${today.getFullYear()}-${month}-${today.getDate()}`\n    }\n    if (this.state.isEditing) {\n      DashboardActions.updateDrug(drug, this.state.selectedDrugId)\n    } else {\n      DashboardActions.addDrug(drug)\n      console.log('submitted drug: ' + JSON.stringify(drug))\n    }\n  },\n\n  _handleCancel() {\n    DashboardActions.cancelEditDrug()\n  },\n\n  componentDidMount() {\n    this.refs.drugNameField.setValue(this.state.drugName)\n    this.refs.classField.setValue(this.state.drugClass)\n    this.refs.symptomField.setValue(this.state.drugSymptoms)\n    this.refs.interactionsField.setValue(this.state.drugInteractions)\n    this.refs.dosageField.setValue(this.state.drugDosage)\n  },\n\n  render() {\n    let options = [\n       { payload: '1', text: 'Over the counter' },\n       { payload: '2', text: 'Prescription' }\n    ]\n\n    return (\n      <div className=\"drugDetails\">\n        <TextField\n          ref=\"drugNameField\"\n          hintText=\"Drug Name\"\n          floatingLabelText=\"Drug Name\"\n          onChange={this._handleNameOnChange} />\n        <br />\n        <TextField\n          hintText=\"Class\"\n          ref=\"classField\"\n          floatingLabelText=\"Class\"\n          onChange={this._handleClassOnChange} />\n        <br />\n        <SelectField\n          style={{marginTop: '20px'}}\n          selectedIndex={this.state.drugRegulation === 'Prescription' ? 1 : 0}\n          ref=\"regulationMenu\"\n          menuItems={options}\n          onChange={this._handleRegulationOnChange} />\n        <br />\n        <TextField\n          hintText=\"Symptoms\"\n          ref=\"symptomField\"\n          floatingLabelText=\"Symptoms\"\n          onChange={this._handleSymptomsOnChange} />\n        <br />\n        <TextField\n          hintText=\"Interactions\"\n          ref=\"interactionsField\"\n          floatingLabelText=\"Interactions\"\n          onChange={this._handleInteractionsOnChange} />\n        <br />\n        <TextField\n          hintText=\"Dosage\"\n          ref=\"dosageField\"\n          floatingLabelText=\"Dosage\"\n          onChange={this._handleDosageOnChange} />\n        <br />\n        {this.state.isEditing ? <RaisedButton label=\"Cancel\" secondary={true} onClick={this._handleCancel}/> : ''}\n        {this.state.isEditing ? ' ' : ''}\n        <RaisedButton\n          label={this.state.isEditing ? 'Update' : 'Submit'}\n          primary={true}\n          disabled={this._validateFieldsPopulated()}\n          onClick={this._handleItemSubmit} />\n      </div>\n    )\n  }\n\n})\n\nexport default DrugDetails\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2}},"nextMarkerLayerId":3,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugDetails.js","digestWhenLastPersisted":"c884d899570776673b2f53395092449b616acc3a","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"2556698fc9f57b9572e2630a9e415b55","text":"import Reflux from 'Reflux'\nimport React, { Component } from 'react'\nimport { Table, TableRow, TableHeader, TableHeaderColumn, TableBody, TableRowColumn, TableFooter, RaisedButton } from 'material-ui'\nimport DashboardActions from '../actions/DashboardActions'\nimport Store from '../stores'\nimport { History, Link } from 'react-router'\nimport injectTapEventPlugin from 'react-tap-event-plugin'\ninjectTapEventPlugin()\n\nconst DrugList = React.createClass({\n\n  mixins: [Reflux.connect(Store), History],\n\n  componentWillMount() {\n    DashboardActions.getAllDrugs()\n  },\n\n  _onRowSelection(selectedRows) {\n    let rowNumber = -1\n    let drugId = null\n    let drug = null\n    if (selectedRows.length < 1) {\n      rowNumber = -1\n      drugId = null\n      drug = null\n    } else {\n      rowNumber = selectedRows[0]\n      drugId = this.state.drugs[rowNumber].id\n      drug = this.state.drugs[rowNumber].drug\n    }\n    DashboardActions.selectRow(rowNumber, drugId, drug)\n  },\n\n  _handleEditClick(e) {\n    if (this.state.selectedDrugId === null) {\n      return\n    }\n    DashboardActions.editDrug()\n    DashboardActions.switchTab('0')\n    console.log('Editing: ' + this.state.selectedDrugId)\n  },\n\n  _handleDeleteClick(e) {\n    if (this.state.selectedDrugId === null) {\n      return\n    }\n    DashboardActions.deleteDrug(this.state.selectedDrugId, this.state.selectedDrug, this.state.username)\n  },\n\n  render() {\n    let drugs = this.state.drugs.map((item, index) => {\n      let drug = item.drug\n      return (\n        <TableRow key={item.id} selected={this.state.selectedRow === index}>\n          <TableRowColumn>{drug.drugName}</TableRowColumn>\n          <TableRowColumn>{drug.drugClass}</TableRowColumn>\n          <TableRowColumn>{drug.drugRegulation}</TableRowColumn>\n          <TableRowColumn>{drug.username}</TableRowColumn>\n          <TableRowColumn>{drug.date ? drug.date : 'no date specified'}</TableRowColumn>\n        </TableRow>\n      )\n    })\n\n    return (\n      <div>\n        <Table\n          height='300px'\n          fixedHeader={true}\n          selectable={true}\n          onRowSelection={this._onRowSelection}\n          style={{fontFamily: 'Roboto, sans-serif'}} >\n          <TableHeader displaySelectAll={false}>\n            <TableRow>\n              <TableHeaderColumn colSpan=\"5\" style={{textAlign: 'center'}}>\n                Drug List\n              </TableHeaderColumn>\n            </TableRow>\n            <TableRow>\n              <TableHeaderColumn tooltip='Drug Name'>Name</TableHeaderColumn>\n              <TableHeaderColumn tooltip='Drug Class'>Class</TableHeaderColumn>\n              <TableHeaderColumn tooltip='Drug Regulation'>Regulation</TableHeaderColumn>\n              <TableHeaderColumn tooltip='User who added this drug'>User</TableHeaderColumn>\n              <TableHeaderColumn tooltip='Date drug added (YYYY-MM-DD)'>Date</TableHeaderColumn>\n            </TableRow>\n          </TableHeader>\n          <TableBody\n            deselectOnClickaway={false}\n            showRowHover={true}\n            >\n            {drugs}\n          </TableBody>\n        </Table>\n        <div style={{float: 'right', margin: '20px 50px 0px 0px'}}>\n          <RaisedButton label=\"EDIT\" secondary={true} onClick={this._handleEditClick} />\n          {' '}\n          <RaisedButton label=\"DELETE\" primary={true} onClick={this._handleDeleteClick} />\n        </div>\n      </div>\n    )\n  }\n\n})\n\nexport default DrugList\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"26":{"range":{"start":{"row":53,"column":9},"end":{"row":53,"column":17}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"27":{"range":{"start":{"row":59,"column":10},"end":{"row":59,"column":18}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":53,"column":48},"end":{"row":53,"column":48}},"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2}},"nextMarkerLayerId":3,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugList.js","digestWhenLastPersisted":"2c23084244089d0ea7876bb36a613eee4df92d4a","preferredLineEnding":null,"nextMarkerId":28,"deserializer":"TextBuffer","version":5}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":8,"softTabs":true,"firstVisibleScreenRow":26,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":9,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugDetails.js","bufferId":"1e281b327bb7d55d17071bc30911c6cb","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":12,"softTabs":true,"firstVisibleScreenRow":36,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":13,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugList.js","bufferId":"2556698fc9f57b9572e2630a9e415b55","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugList.js","focused":true,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-babel","language-hyperlink","language-todo"],"destroyedItemURIs":[]},"packageStates":{"linter":{"scope":"File"},"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-01-25T03:25:28.325Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"8":{"id":8,"path":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugDetails.js","colorMarkers":[]},"12":{"id":12,"path":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugList.js","colorMarkers":[]}},"paths":["/Users/vmaudgalya/projects/personal/dashboard/client/src/main.scss"],"variables":{"deserializer":"VariablesCollection","content":[]}}},"fuzzy-finder":{"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugDetails.js":1453692264470,"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugList.js":1453692270885},"metrics":{"sessionLength":63851},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/vmaudgalya/projects/personal/dashboard/client":{"isExpanded":true,"entries":{"data":{"isExpanded":false,"entries":{}},"node_modules":{"isExpanded":false,"entries":{}},"src":{"isExpanded":true,"entries":{"actions":{"isExpanded":false,"entries":{}},"components":{"isExpanded":true,"entries":{}},"routes":{"isExpanded":false,"entries":{}},"stores":{"isExpanded":false,"entries":{}}}}}}},"selectedPath":"/Users/vmaudgalya/projects/personal/dashboard/client/src/components/DrugList.js","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}
{"version":1,"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep"],"buffers":[{"id":"4b7d58f3d5f4af1056735c98a7ddcc77","text":"\n\nexport const GET_BUNDLES = 'GET_BUNDLES'\nexport const GET_BUNDLES_COMPLETED = 'GET_BUNDLES_COMPLETED'\nexport const GET_BUNDLES_FAILED = 'GET_BUNDLES_FAILED'\n\n\n\nexport const GET_TOOLS = 'GET_TOOLS'\nexport const GET_TOOLS_COMPLETED = 'GET_TOOLS_COMPLETED'\nexport const GET_TOOLS_FAILED = 'GET_TOOLS_FAILED'\n\nexport const GET_USER = 'GET_USER'\nexport const GET_USER_COMPLETED = 'GET_USER_COMPLETED'\nexport const GET_USER_FAILED = 'GET_USER_FAILED'\n\n\nconst dashboard = require('./dashboard');\nconst bundle = require('./bundle');\nconst appstore = require('./appstore');\nconst activity = require('./activity');\nconst dev = require('./dev');\n\nexport {\n  dashboard,\n  bundle,\n  appstore,\n  activity,\n  dev\n}","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"2":{"range":{"start":{"row":29,"column":0},"end":{"row":29,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"3":{"range":{"start":{"row":23,"column":7},"end":{"row":23,"column":8}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":29,"column":1},"end":{"row":29,"column":1}},"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/app/actions/index.js","digestWhenLastPersisted":"c3baca25b0575d41c655c226247806e4db731f0f","preferredLineEnding":null,"nextMarkerId":4,"deserializer":"TextBuffer","version":5},{"id":"28aa8700822532c91cfa62efeaa5ea23","text":"var path = require('path');\nvar webpack = require('webpack');\n\nvar ROOT_PATH = path.resolve(__dirname);\nvar APP_PATH = path.resolve(ROOT_PATH, 'app');\nvar MODULES_PATH = path.resolve(ROOT_PATH, 'node_modules');\n\nmodule.exports = {\n  entry: {\n    app : './app/components/app_server'\n  },\n  resolve: {\n    extensions: ['', '.js', '.jsx']\n  },\n  target : \"node\",\n  output: {\n    path: path.join(__dirname, 'dist'),\n    libraryTarget: \"commonjs2\",\n    filename: 'mep.js'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.jsx?$/,\n        loaders: ['babel'],\n        include: APP_PATH\n      },\n      {\n        test: /\\.json?$/,\n        loaders: ['json'],\n        include: MODULES_PATH\n      }\n    ]\n  },\n  plugins: [\n    \n  ]\n};\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.production.config.js","digestWhenLastPersisted":"2981b32b3a86c83eca4381342a98a730f64ed5e6","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"5dbbaedae3c4c1a074cff92f1d345cac","text":"var path = require('path');\nvar webpack = require('webpack');\n\nvar ROOT_PATH = path.resolve(__dirname);\nvar APP_PATH = path.resolve(ROOT_PATH, 'app');\n\nmodule.exports = {\n  devtool: 'eval',\n  entry: [\n    './app/extension.jsx'\n  ],\n  resolve: {\n    extensions: ['', '.js', '.jsx']\n  },\n  output: {\n    path: path.join(__dirname, 'dist/extensions'),\n    filename: 'mep.js'\n  },\n  externals: {\n    \"requirejs\": \"require\"\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.css$/,\n        loaders: ['style', 'css'],\n        include: APP_PATH\n      },\n      {\n        test: /\\.less$/,\n        loader: \"style!css!less\"\n      },\n      {\n        test: /\\.woff(2)?(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/,\n        loader: \"url-loader?limit=10000&mimetype=application/font-woff\"\n      },\n      {\n        test: /\\.(ttf|eot|svg)(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/,\n        loader: \"file-loader\"\n      },\n      {\n        test: /\\.jsx?$/,\n        loaders: ['babel'],\n        include: APP_PATH\n      },\n      {\n        test: /jquery\\.js$/,\n        loader: 'expose?$'\n      },\n      {\n        test: /jquery\\.js$/,\n        loader: 'expose?jQuery'\n      }\n    ]\n  },\n};\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.extension.config.js","digestWhenLastPersisted":"01964c4faa9b0ac5a4fa8772d4e7609fbd789221","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"b2b6f5b9c72df657a4af34da38833e9d","text":"var path = require('path');\nvar HtmlwebpackPlugin = require('html-webpack-plugin');\nvar webpack = require('webpack');\nvar merge = require('webpack-merge');\nvar _ = require('underscore');\n\nvar TARGET = process.env.npm_lifecycle_event;\nvar ROOT_PATH = path.resolve(__dirname);\nvar APP_PATH = path.resolve(ROOT_PATH, 'app');\n\nvar user = require(\"./lib/user\");\nvar url = require('url');\n\nprocess.env.BABEL_ENV = TARGET;\n\nvar common = {\n  entry: {\n    app : './app'\n  },\n  resolve: {\n    extensions: ['', '.js', '.jsx']\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.jsx?$/,\n        loaders: ['babel'],\n        include: APP_PATH\n      }\n    ]\n  },\n  plugins: [\n    new HtmlwebpackPlugin({\n      title: 'PayPal',\n      favicon: './pp32.png',\n      template: './index.html',\n      inject: 'body'\n    })\n  ]\n};\n\nif(TARGET === 'start-dev' || !TARGET) {\n  module.exports = merge(common, {\n    devtool: 'eval-source-map',\n    devServer: {\n      historyApiFallback: true,\n      hot: true,\n      inline: true,\n      progress: true,\n\n      // parse host and port from env so this is easy\n      // to customize\n      host: process.env.HOST,\n      port: process.env.PORT,\n\n      proxy: {\n        '/content/api/*': {\n          target: 'http://192.168.99.100',\n          secure: false,\n          bypass: function(req, res, proxyOptions) {\n            return false;\n          }\n        },\n        '/businessexp/*': {\n          target: 'http://192.168.99.100',\n          secure: false,\n          bypass: function(req, res, proxyOptions) {\n            _.extend(req.headers, user.getHeaders());\n            return false;\n          }\n        },\n        '/bizcomponents/*': {\n          target: 'http://localhost:8000',\n          secure: false,\n          bypass: function(req, res, proxyOptions) {\n            _.extend(req.headers, user.getHeaders());\n            return false;\n          }\n        },\n        '/myaccount/transfer/*': {\n          target: 'http://192.168.99.100',\n          secure: false,\n          bypass: function(req, res, proxyOptions) {\n            _.extend(req.headers, user.getHeaders());\n            return false;\n          }\n        },\n        '/mep/api/*': {\n          target: 'http://localhost.paypal.com:8080',\n          secure: false,\n          bypass: function(req, res, proxyOptions) {\n            _.extend(req.headers, user.getHeaders());\n\n            if (req.path.indexOf(\"/user-switch\") > -1) {\n              user.switchUser(req.query.user);\n              console.log(\"Logged in as \", user.currentUser());\n              _.extend(req.headers,  user.getHeaders());\n            }\n            return false;\n          }\n        },\n        '/appstore/api/*': {\n          target: 'http://192.168.99.100',\n          secure: false,\n          bypass: function(req, res, proxyOptions) {\n            return false;\n          }\n        },\n        '/appstore.js': {\n          target: 'http://192.168.99.100'\n        },\n        '/transactions.js': {\n          target: 'http://localhost:3001'\n        },\n        '/notifications.js': {\n          target: 'http://192.168.99.100'\n        },\n        '/logocenter.js': {\n          target: 'http://192.168.99.100'\n        },\n        '/sendmoney.js': {\n          target: 'http://localhost:3000'\n        },\n        '/profile.js': {\n          target: 'http://localhost:3000'\n        }\n      }\n    },\n    plugins: [\n      new webpack.HotModuleReplacementPlugin()\n    ]\n  });\n}\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.config.js","digestWhenLastPersisted":"36eca9ac4fffaa1caf3384dfd771c339f1a7a75f","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"35fb3de53005b80ae8dc4467ff08fcfe","text":"{\n  \"name\": \"mep-client\",\n  \"version\": \"1.0.4\",\n  \"description\": \"MEP Web App\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"start\": \"PORT=8000 webpack-dev-server --progress --inline --colors --hot\",\n    \"build\": \"webpack --progress --colors --inline --config webpack.production.config.js\",\n    \"build-ext\": \"webpack --progress --colors --inline --config webpack.extension.config.js  --output-library MEP --output-library-target this\"\n  },\n  \"keywords\": [\n    \"mep\",\n    \"mep webapp\",\n    \"dashboard\"\n  ],\n  \"author\": \"Arvind Naidu\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"async\": \"^1.5.1\",\n    \"babel-loader\": \"^5.3.2\",\n    \"babel-plugin-react-transform\": \"^1.1.1\",\n    \"bootstrap\": \"^3.3.6\",\n    \"classnames\": \"^2.2.3\",\n    \"css-loader\": \"^0.15.5\",\n    \"es6-promise\": \"^3.1.2\",\n    \"expose-loader\": \"^0.7.1\",\n    \"file-loader\": \"^0.8.5\",\n    \"history\": \"^1.15.0\",\n    \"html-webpack-plugin\": \"^1.6.0\",\n    \"iconv-lite\": \"^0.4.13\",\n    \"isomorphic-fetch\": \"^2.2.1\",\n    \"isomorphic-style-loader\": \"0.0.8\",\n    \"jquery\": \"^2.1.4\",\n    \"less\": \"^2.5.3\",\n    \"less-loader\": \"^2.2.2\",\n    \"mep-appstore-client\": \"^1.0.0\",\n    \"postcss-loader\": \"^0.8.0\",\n    \"react-bootstrap\": \"^0.28.2\",\n    \"react-redux\": \"^4.4.0\",\n    \"react-router\": \"^2.0.0-rc3\",\n    \"react-transform-hmr\": \"^1.0.1\",\n    \"redux\": \"^3.3.1\",\n    \"redux-logger\": \"^2.5.2\",\n    \"redux-thunk\": \"^1.0.3\",\n    \"reflux\": \"^0.3.0\",\n    \"requirejs\": \"^2.1.22\",\n    \"style-loader\": \"^0.12.3\",\n    \"superagent\": \"^1.7.2\",\n    \"underscore\": \"^1.8.3\",\n    \"url-loader\": \"^0.5.7\",\n    \"webpack\": \"^1.12.11\",\n    \"webpack-dev-server\": \"^1.14.1\",\n    \"webpack-merge\": \"^0.7.3\"\n  },\n  \"dependencies\": {\n    \"html-webpack-plugin\": \"^1.7.0\",\n    \"json-loader\": \"^0.5.4\",\n    \"moment\": \"^2.10.6\",\n    \"react\": \"^0.14.0\",\n    \"react-debounce-input\": \"^1.2.0\",\n    \"react-dom\": \"^0.14.0\",\n    \"react-tap-event-plugin\": \"^0.2.1\"\n  }\n}\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"6":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"7":{"range":{"start":{"row":63,"column":0},"end":{"row":63,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/package.json","digestWhenLastPersisted":"e53949a7882d874217b31a6f99b0da877f2033c0","preferredLineEnding":null,"nextMarkerId":8,"deserializer":"TextBuffer","version":5},{"id":"2930a7f87ab3ac2d25d3f0eaa4007a69","text":"{\n    \"requestURI\": \"/mep\",\n    \"services\": {\n        \"servicecore\": {\n            \"rejectUnauthorized\": false,\n            \"socketTimeout\": 30000\n        }\n    },\n    \"express\": {\n        \"view engine\": \"handlebars\",\n        \"view cache\": false,\n        \"views\": \"path:./views\"\n    },\n    \"view engines\": {\n        \"handlebars\" : {\n            \"module\": \"path:./lib/exhbs\"\n        }\n    },    \n    \"middleware\": {\n        \"logger\": {\n            \"module\": {\n                \"name\": \"morgan\",\n                \"arguments\": [\n                    \"tiny\"\n                ]\n            }\n        },\n\n        \"static\": {\n            \"enabled\": true,\n            \"priority\": 40,\n            \"name\": \"serve-static\",\n            \"module\": {\n                \"arguments\": [ \"path:./.build\" ]\n            }\n        },\n\n        \"encryptedcookies\": {\n            \"enabled\": true,\n            \"priority\": 111,\n            \"module\": {\n                \"name\": \"encryptedcookies-paypal\",\n                \"arguments\": [{\n                    \"encryptionKey\": \"vault:encrypted_crypt_key\",\n                    \"macKey\": \"vault:encrypted_mac_key\"\n                }]\n            }\n        },\n        \n        \"auth\": {\n            \"enabled\": true,\n            \"priority\": 113,\n            \"module\": {\n                \"name\": \"auth-paypal\",\n                \"arguments\": [{\n                    \"cookieEncryptionKey\": \"vault:encrypted_crypt_key\",\n                    \"cookieMacKey\": \"vault:encrypted_mac_key\"\n                }]\n            }\n        },\n\n        \"appsec\": {\n            \"enabled\": true,\n            \"priority\": 114,\n            \"module\": {\n                \"name\": \"lusca\",\n                \"arguments\": [\n                    {\n                        \"csp\": {\n                            \"policy\": {\n                                \"default-src\": \"'self' http://*.qa.paypal.com:*  http://*.ebayc3.com:* https://*.paypal.com https://*.paypalobjects.com https://*.bootstrapcdn.com https://*.googleapis.com https://*.couldflare.com 'unsafe-inline'\",\n                                \"script-src\": \"'self' https://*.paypal.com https://*.paypalobjects.com https://*.bootstrapcdn.com https://*.googleapis.com https://*.couldflare.com 'unsafe-inline' 'unsafe-eval' http://*.ebayc3.com:*\",\n                                \"img-src\": \"http://*.ebayc3.com:* https://*.paypalobjects.com https://*.paypal.com:* *.omtrdc.net https://securepics.ebaystatic.com https://s3.amazonaws.com/campaign.manager.images.qa/image_service/ https://s3.amazonaws.com/campaign.manager.images/image_service/ https://web-assets-prod.s3.amazonaws.com http://stage2p1624.qa.paypal.com:* paypal.112.2O7.net data:\",\n                                \"object-src\": \"none\",\n                                \"media-src\": \"'self' http://*.ebayc3.com:* \",\n                                \"font-src\": \"'self' http://*.ebayc3.com:* \",\n                                \"style-src\": \"'self' 'unsafe-inline' http://*.ebayc3.com:*\",\n                                \"connect-src\": \"'self' http://stage2p1624.qa.paypal.com:*\"\n                            }\n                        },\n                        \"csrf\": true,\n                        \"hsts\": {\n                            \"maxAge\": 31536000,\n                            \"includeSubDomains\": true,\n                            \"preload\": true\n                        },\n                        \"xframe\": \"SAMEORIGIN\",\n                        \"xssProtection\": true\n                    }\n                ]\n            }\n        },\n\n        \"authorize\": {\n            \"enabled\": true,\n            \"priority\": 119,\n            \"module\": {\n                \"name\": \"../../../lib/authorize\"\n            }\n        },\n\n        \"router\": {\n            \"module\": {\n                \"arguments\": [{ \n                    \"directory\": \"path:./routes\" \n                }]\n            }\n        }\n    }\n}","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"8":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"9":{"range":{"start":{"row":109,"column":0},"end":{"row":109,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/config.json","digestWhenLastPersisted":"d3bb9ccf4a1f6efc0cf66f0b14a0ddf3dd563fc9","preferredLineEnding":null,"nextMarkerId":10,"deserializer":"TextBuffer","version":5},{"id":"0c5ffaefb5778b4579760ec3e0db8b8b","text":"{\n    \"topos\": {\n        \"host\": \"msmaster.qa.paypal.com\"\n    },\n\n    // Override the session type\n    \"session\": {\n        \"module\": {\n            \"name\": \"express-session\"\n        }\n    },\n    \"middleware\": {\n\n        \"appsec\": {\n            \"csrf\": true,\n            \"csp\": {\n                \"policy\": {\n                    \"default-src\": \"'self' http://*.qa.paypal.com:*  http://*.ebayc3.com:* https://*.paypal.com https://*.paypalobjects.com https://*.bootstrapcdn.com https://*.googleapis.com https://*.couldflare.com 'unsafe-inline'\",\n                    \"script-src\": \"'self' https://*.paypal.com https://*.paypalobjects.com https://*.bootstrapcdn.com https://*.googleapis.com https://*.couldflare.com 'unsafe-inline' 'unsafe-eval' http://*.ebayc3.com:*\",\n                    \"img-src\": \"http://*.ebayc3.com:* https://*.paypalobjects.com https://*.paypal.com:* *.omtrdc.net https://securepics.ebaystatic.com https://s3.amazonaws.com/campaign.manager.images.qa/image_service/ https://s3.amazonaws.com/campaign.manager.images/image_service/ https://web-assets-prod.s3.amazonaws.com http://stage2p1624.qa.paypal.com:* paypal.112.2O7.net data:\",\n                    \"object-src\": \"none\",\n                    \"media-src\": \"'self' http://*.ebayc3.com:* \",\n                    \"font-src\": \"'self' http://*.ebayc3.com:* \",\n                    \"style-src\": \"'self' 'unsafe-inline' http://*.ebayc3.com:*\",\n                    \"connect-src\": \"'self' http://stage2p1624.qa.paypal.com:*\"\n                }\n            }\n        }\n    }\n}","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"4":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"5":{"range":{"start":{"row":29,"column":0},"end":{"row":29,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/development.json","digestWhenLastPersisted":"6fa22f270d583dd12046c0611582e4ef8055741b","preferredLineEnding":null,"nextMarkerId":6,"deserializer":"TextBuffer","version":5},{"id":"2c54933e5b968ddce44b2589e0a0d75a","text":"{\n    \"topos\": {\n        \"host\": \"msmaster.qa.paypal.com\"\n    },\n\n    // Override the session type\n    \"session\": {\n        \"module\": {\n            \"name\": \"express-session\"\n        }\n    },\n    \"middleware\": {\n        \"auth\": {\n            \"enabled\": false,\n            \"priority\": 113\n        },\n        \"authorize\": {\n            \"enabled\": false\n        },        \n        \"mock\": {\n            \"enabled\": true,\n            \"priority\": 119,\n            \"module\": {\n                \"name\": \"../../../lib/mock\"\n            }\n        }\n    }\n}","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"4":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"5":{"range":{"start":{"row":27,"column":0},"end":{"row":27,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/test.json","digestWhenLastPersisted":"df06a1ab4a1b91a3dc7193a9adb45455460db83a","preferredLineEnding":null,"nextMarkerId":6,"deserializer":"TextBuffer","version":5},{"id":"da6628a1e15de802b372bf16c79f47f0","text":"/**\n * Created by apaulraj on 1/14/15.\n * Middleware for authorizing before invoking any routes\n */\n'use strict';\n\nvar auth = require(\"auth-paypal\"),\n    log = require('./logger').logger,\n    unifiedLoginUrl = require('node-unified-login-url');\n\nfunction getLoginUrl(req, options) {\n    var requestURI = req.app.kraken.get('requestURI'),\n        hostString = req.protocol + '://' + req.headers.host,\n        defaultUrl = hostString + requestURI + '/',\n        destination = options.returnUrl || req.query.returnUrl;\n\n    if(destination) {\n        /* If session expire for ajax request redirect user referer URL\n         * instead of redirecting to return URL. If we redirect user to return after login user will\n         * JSON data on page insted of the page they have made ajax request.\n         */\n\n        if (req.xhr) {\n            defaultUrl = req.headers && req.headers.referer;\n        } else {\n            defaultUrl = (destination.indexOf('http') === -1) ? hostString + destination : destination;\n        }\n    }\n    return unifiedLoginUrl.get(req, {returnUri: defaultUrl});\n}\n\nmodule.exports = function (options) {\n\n    return function (req, res, next) {\n\n        var returnUrl = req.originalUrl || req.app.kraken.get('requestURI');\n        var loginUrl = getLoginUrl(req, { returnUrl: returnUrl });\n        \n        log.debug(returnUrl, loginUrl);\n        if(req.url.match(/^\\/(?!logout).*$/)) {\n            auth.authorize({\n                failureRedirect: loginUrl\n            })(req, res, function() {\n                log.debug(\"Authorization successful\", req.securityContext);\n                next()\n            });\n        } else {\n            next();\n        }\n    };\n};\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/authorize.js","digestWhenLastPersisted":"4a1ad8a631572c22745106c72ab3e25ff8b0a478","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"22718c51b76930cf203b0439f9dbb371","text":"module.exports.replaceWithMongo = function  (dashboardName) {\n\n  switch (dashboardName) {\n    case \"A\" : \n      return {\n        dashboard : {\n          currentAppId : \"0\",\n          layout: \"A\",\n          apps : [ {name : \"Transactions\", src : \"http://localhost:3000/transactions.js\"},\n            {name : \"Send Money\", src : \"http://localhost:3000/sendmoney.js\"},\n            {name : \"Invoicing\", src : \"http://localhost:3000/invoicing.js\"},\n            {name : \"Resoultion Center\", src : \"http://localhost:3000/rescenter.js\"}\n          ]\n        }\n      }\n    case \"B\" : \n      return {\n        dashboard : {\n          currentAppId : \"0\",\n          layout: \"B\",\n          apps : [ {name : \"Resoultion Center\", src : \"http://localhost:3000/rescenter.js\"},\n            {name : \"Send Money\", src : \"http://localhost:3000/sendmoney.js\"},\n            {name : \"Shopping Card\", src : \"http://localhost:3000/invoicing.js\"},\n            {name : \"Transactions\", src : \"http://localhost:3000/transactions.js\"}\n          ]\n        }\n      }\n    case \"C\" : \n      return {\n        dashboard : {\n          currentAppId : \"0\",\n          layout: \"C\",\n          apps : [ {name : \"Tax Information\", src : \"http://localhost:3000/rescenter.js\"},\n            {name : \"Withdraw Money\", src : \"http://localhost:3000/sendmoney.js\"},\n            {name : \"Send Money\", src : \"http://localhost:3000/invoicing.js\"},\n            {name : \"Resoultion Center\", src : \"http://localhost:3000/transactions.js\"}\n          ]\n        }\n      }\n    case \"D\" : \n      return {\n        dashboard : {\n          currentAppId : \"0\",\n          layout: \"D\",\n          apps : [ {name : \"PayPal Credit\", src : \"http://localhost:3000/rescenter.js\"},\n            {name : \"Gifts\", src : \"http://localhost:3000/sendmoney.js\"},\n            {name : \"Checkout\", src : \"http://localhost:3000/invoicing.js\"},\n            {name : \"Send Money\", src : \"http://localhost:3000/transactions.js\"}\n          ]\n        }\n      }\n  }\n}\n\nmodule.exports.replaceWithServiceCore = function (username) {\n  \n  switch (username) {\n    case \"shafic-us-bus1@paypal.com\":\n      return [{\n                \"type\" : \"Country\",\n                \"name\" : \"US\"\n              },{\n                \"type\" : \"UserType\",\n                \"name\" : \"SMB\"\n              }];\n    case \"shafic-uk-bus1@paypal.com\":\n      return [{\n                \"type\" : \"Country\",\n                \"name\" : \"GB\"\n              },{\n                \"type\" : \"UserType\",\n                \"name\" : \"Pro\"\n              }];     \n    case \"vvaradarajan@paypal.com\":\n      return [{\n                \"type\" : \"UserType\",\n                \"name\" : \"LE\"\n              },{\n                \"type\" : \"Language\",\n                \"name\" : \"French\"\n              }];\n    case \"chdang_us_pro1@paypal.com\":\n      return [{\n                \"type\" : \"Country\",\n                \"name\" : \"US\"\n              },{\n                \"type\" : \"UserType\",\n                \"name\" : \"Pro\"\n              },{\n                \"type\" : \"Language\",\n                \"name\" : \"German\"\n              }];\n    default:\n      return [{\n                \"type\" : \"Country\",\n                \"name\" : \"GB\"\n              }];\n  }\n}","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/dashboard_helper.js","digestWhenLastPersisted":"a3e78cc56ba2cea750c2898bae93d404d759c52c","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"2320f9f8854447309e5ea0f9e95e33f6","text":"var exphbs  = require('express-handlebars');\nmodule.exports = exphbs({defaultLayout: 'layout'});","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/exhbs.js","digestWhenLastPersisted":"9fbefd33e7f6d0c1b2ca49fc675103b190c2b987","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"7e9c1aeffbab964a0b74ed53a1c74428","text":"/**\n * Created by arnaidu on 12/01/15.\n * Middleware for injecting middleware. Never use in Production!!\n */\n\nvar vm = require('vm');\n\nmodule.exports = function (options) {\n    return function (req, res, next) {\n        var mockFn = req.headers[\"x-paypal-dev-mock\"];\n        console.log(mockFn);\n        var mocker = vm.runInThisContext(mockFn);\n        mocker(req, res, next);\n    };\n};\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/mock.js","digestWhenLastPersisted":"35ad461649b98b6d441372b002670715dc8063b9","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"7c6c677408baf077d272545c4a408de5","text":"\nmodule.exports = require('express-react-views').createEngine({\n  transformViews: false,\n  env: \"development\"\n});","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/rv.js","digestWhenLastPersisted":"f98b1a866da0640b0b415451ec6c7911844d4b73","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"5c57f0ff75b4959146649601a462e443","text":"module.exports = function (options) {\n  return {\n    createEngine : function () {\n        return require('express-react-views').createEngine();\n    }\n  }\n}","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/views.js","digestWhenLastPersisted":"d2517f8205f4e24e5415efd50a1fc89a6cd8143f","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"d51685899bbbf45b49b0b52eb1e7ac47","text":"'use strict';\n\nvar mepServer = require('../server'); //require('mep-server');\\\nvar util = require('util');\nvar auth = require(\"auth-paypal\");\nvar log = require('../lib/logger').logger;\nvar unifiedLoginUrl = require('node-unified-login-url');\n\nvar renderToString = require('react-dom/server').renderToString;\nvar createStore = require('redux').createStore;\n\n\nvar MEP = require('../../client/dist/mep');  \nvar MEPCore = require('../server/core');\n\nvar Helper = require('../lib/dashboard_helper');\n\nvar React = require('react');\n\nvar MEPReactApp = React.createFactory(MEP.App);  \n\nmodule.exports = function(router) {\n\n  var mongoStr = util.format(\"%s:%s/mep\", \n      process.env.MONGO_PORT_27017_TCP_ADDR || \"192.168.99.100\", \n      process.env.MONGO_PORT_27017_TCP_PORT || 27017);\n\n  var neoStr = util.format(\"%s://%s:%s@%s:%s\", \n      process.env.NEO_PROTOCOL || \"http\", \n      process.env.NEO_USERNAME || \"neo4j\", \n      process.env.NEO_PASSWORD || \"pass\", \n      process.env.NEO_PORT_27017_TCP_ADDR || \"localhost.paypal.com\", \n      process.env.NEO_PORT_27017_TCP_PORT || 7474);\n\n  // MEP Server\n  mepServer(router, {\n    mongoose : {\n      connectionString: mongoStr\n    },\n    neo: {\n      connectionString: neoStr\n    }\n  });\n\n  router.get(\"/mep\", function (req, res) {\n\n    // req.user.country = \"US\", \"GB\"\n    // youthAccount = true\n    // req.user.userGroup = \"Business\"\n    // req.user.accountVO.isCommercialEntity = true\n    // req.user.accountVO.type = 'BUSINESS'\n    // req.user.accountVO.tags contains 'MASS_PAY'\n\n    MEPCore.metadata.getMetadata(Helper.replaceWithServiceCore(req.user.aliasVO.alias), \"Dashboard\").then(function (dashboard) {\n      log.info(\"User will be getting dashboard \" + dashboard.name);\n      var store = createStore(MEP.Reducer, Helper.replaceWithMongo(dashboard.name));\n\n      // Render the component to a string\n      var html = renderToString(MEPReactApp({store: store}));\n      // Grab the initial state from our Redux store\n      var initialState = store.getState();\n\n      res.render(\"index\", { html: html, initialState : JSON.stringify(initialState) });\n\n    });\n\n  });\n\n\n  // Dummy Backend URL\n  router.get(\"/mep/api/user-switch\", function (req, res) {\n    res.json({currentUser: req.query.user});\n  });\n\n};","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":53,"column":4},"end":{"row":53,"column":11}},"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/routes/index.js","digestWhenLastPersisted":"b9e94d4187794c7f6e30b9ab5fe3abd5937c4015","preferredLineEnding":null,"nextMarkerId":76,"deserializer":"TextBuffer","version":5},{"id":"4a86379014064516c2329d68412836e1","text":"\nvar Metadata  = require('../models/metadata');\nmodule.exports = {\n    getMetadata : Metadata.getMetadata\n}\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/core/metadata.js","digestWhenLastPersisted":"51a9aba97d3f5cc92d841773d1e9dcc5adc4b089","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5},{"id":"a0c823f82a760234c6b977e93d0279a6","text":"var log = require(\"../lib/log\"),\n    async = require(\"async\"),\n    util = require('util'),\n    Q = require('q'),\n    db = require('../lib/neo');\n\nvar rootQuery = 'MATCH (r:Root) RETURN r';\n\nvar childQuery = function (variableName) {\n    return  'MATCH paths=allShortestPaths((src)-[*]->(dest:%s)) ' + \n            'WHERE ID(src) = %s ' + \n            (variableName? 'AND dest.name=\\'' + variableName + '\\' ': '') + \n            'WITH REDUCE(dist = 0, rel in rels(paths) | dist + rel.cost) AS distance, paths, dest ' +\n            'RETURN dest ' + \n            'ORDER BY distance ' + \n            'LIMIT 1';\n    }\n\nfunction getMetadata (variables, destinationType) {\n\n    var deferred = Q.defer();\n    // Add root at begining of array \n    variables.splice(0, 0, { name: \"Root\", type: \"Root\" });\n    // Add destinationType at End\n    variables.splice(variables.length, 0, { type: destinationType });\n\n    var asyncFns = variables.map (function (variable, index) {\n\n        return function (result, callback) {\n                var query;\n\n                if (typeof result === 'function') {\n                    query = util.format(rootQuery);\n                } else {\n                    if (result.srcNodeId) {\n                        query = util.format(childQuery(variable.name), variable.type, result.srcNodeId);    \n                    } else {\n                        // Could not find any paths - Drop that variable\n                        log.info(\"No possible paths ahead. Dropping \", result);\n                        query = util.format(childQuery(variable.name), variable.type, result.prevNodeId);                        \n                    }\n                }\n                \n                log.info(query);\n\n                callback = callback || result;\n\n                db.getConnection().cypherQuery(query, function (err, cypherResult) {\n                    if (err) {\n                        return callback(err);\n                    }\n                    if (cypherResult.data.length) {\n                        callback(null, {\n                            srcNodeId : cypherResult.data[0]._id,\n                            prevNodeId : result.srcNodeId,\n                            name: cypherResult.data[0].name\n                        });                        \n                    } else {\n                        callback(null, result);\n                    }\n                });\n            };\n        });    \n\n    async.waterfall(asyncFns, function (err, res) {\n        if (err) {\n            return deferred.reject(err);\n        }\n        deferred.resolve(res);\n    });\n\n    return deferred.promise;\n}\n\nmodule.exports = {\n    getMetadata : getMetadata\n}","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":28,"column":34},"end":{"row":28,"column":34}},"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/models/metadata.js","digestWhenLastPersisted":"143c6632b5ca0b2b49d15cd3d9dada11a46e3694","preferredLineEnding":null,"nextMarkerId":64,"deserializer":"TextBuffer","version":5},{"id":"d4e417d10e505faf6cd5fe20a24a10e8","text":"\"use strict\";\n\n// process.env.NODE_ENV = \"test\";\n\nvar request = require('supertest'),\n    assert = require('chai').assert,\n    sinon = require('sinon'),\n    fs = require('fs'),\n    server = require('../app/server');\n\nvar mockerStr = fs.readFileSync('./test/fixtures/mocker.js', 'utf8');\n\nrequest = request(\"http://localhost:9000\");\n\ndescribe(\"Metadata v1\", function() {\n\n    before(function(done) {\n        server.on('listening', function (err) {\n            setTimeout(done, 1000);\n        });\n        server.listen(9000);\n    });\n\n    after(function(done) {\n        server.close(done);\n    });\n\n    it('should get A for US SMB', function(done) {\n        request\n            .post(\"/mep/api/v1/metadata\")\n            .send({\n              \"variables\" : [{\n                \"type\" : \"Country\",\n                \"name\" : \"US\"\n              },{\n                \"type\" : \"UserType\",\n                \"name\" : \"SMB\"\n              }]\n            })\n            .set('x-paypal-dev-mock', mockerStr)\n            .expect(200)\n            .end(function (err, result) {\n                assert.equal(result.body.name, \"A\");\n                done();\n            });\n    });\n\n    it('should get B for US French', function(done) {\n        request\n            .post(\"/mep/api/v1/metadata\")\n            .send({\n              \"variables\" : [{\n                \"type\" : \"Country\",\n                \"name\" : \"US\"\n              },{\n                \"type\" : \"Language\",\n                \"name\" : \"French\"\n              }]\n            })\n            .set('x-paypal-dev-mock', mockerStr)\n            .expect(200)\n            .end(function (err, result) {\n                assert.equal(result.body.name, \"B\");\n                done();\n            });\n    });\n\n    it('should get B for US French', function(done) {\n        request\n            .post(\"/mep/api/v1/metadata\")\n            .send({\n              \"variables\" : [{\n                \"type\" : \"Country\",\n                \"name\" : \"GB\"\n              }]\n            })\n            .set('x-paypal-dev-mock', mockerStr)\n            .expect(200)\n            .end(function (err, result) {\n                assert.equal(result.body.name, \"B\");\n                done();\n            });\n    });    \n\n    it('should get B for GB Pro', function(done) {\n        request\n            .post(\"/mep/api/v1/metadata\")\n            .send({\n              \"variables\" : [{\n                \"type\" : \"Country\",\n                \"name\" : \"GB\"\n              },\n              {\n                \"type\" : \"UserType\",\n                \"name\" : \"Pro\"\n              }]\n            })\n            .set('x-paypal-dev-mock', mockerStr)\n            .expect(200)\n            .end(function (err, result) {\n                assert.equal(result.body.name, \"B\");\n                done();\n            });\n    }); \n\n});","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":5,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/test/v1/metadata.js","digestWhenLastPersisted":"4ba6a906deee221d87d27b10fb395cf71622cb0f","preferredLineEnding":null,"nextMarkerId":2,"deserializer":"TextBuffer","version":5}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":4,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":5,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/app/actions/index.js","bufferId":"4b7d58f3d5f4af1056735c98a7ddcc77","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":8,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":9,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.production.config.js","bufferId":"28aa8700822532c91cfa62efeaa5ea23","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":12,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":13,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.extension.config.js","bufferId":"5dbbaedae3c4c1a074cff92f1d345cac","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":16,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":17,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.config.js","bufferId":"b2b6f5b9c72df657a4af34da38833e9d","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":20,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":21,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/package.json","bufferId":"35fb3de53005b80ae8dc4467ff08fcfe","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":24,"softTabs":true,"firstVisibleScreenRow":49,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":25,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/config.json","bufferId":"2930a7f87ab3ac2d25d3f0eaa4007a69","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":28,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":29,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/development.json","bufferId":"0c5ffaefb5778b4579760ec3e0db8b8b","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":32,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":33,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/test.json","bufferId":"2c54933e5b968ddce44b2589e0a0d75a","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":36,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":37,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/authorize.js","bufferId":"da6628a1e15de802b372bf16c79f47f0","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":40,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":41,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/dashboard_helper.js","bufferId":"22718c51b76930cf203b0439f9dbb371","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":44,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":45,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/exhbs.js","bufferId":"2320f9f8854447309e5ea0f9e95e33f6","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":48,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":49,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/mock.js","bufferId":"7e9c1aeffbab964a0b74ed53a1c74428","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":52,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":53,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/rv.js","bufferId":"7c6c677408baf077d272545c4a408de5","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":56,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":57,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/views.js","bufferId":"5c57f0ff75b4959146649601a462e443","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":60,"softTabs":true,"firstVisibleScreenRow":13,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":61,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/routes/index.js","bufferId":"d51685899bbbf45b49b0b52eb1e7ac47","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":64,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":65,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/core/metadata.js","bufferId":"4a86379014064516c2329d68412836e1","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":68,"softTabs":true,"firstVisibleScreenRow":12,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":69,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/models/metadata.js","bufferId":"a0c823f82a760234c6b977e93d0279a6","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":72,"softTabs":true,"firstVisibleScreenRow":44,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":73,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/test/v1/metadata.js","bufferId":"d4e417d10e505faf6cd5fe20a24a10e8","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/test/v1/metadata.js","focused":false,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-babel","language-json","language-hyperlink","language-todo"],"destroyedItemURIs":[]},"packageStates":{"linter":{"scope":"File"},"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-03-01T19:10:28.354Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"4":{"id":4,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/app/actions/index.js","colorMarkers":[]},"8":{"id":8,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.production.config.js","colorMarkers":[]},"12":{"id":12,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.extension.config.js","colorMarkers":[]},"16":{"id":16,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.config.js","colorMarkers":[]},"20":{"id":20,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/package.json","colorMarkers":[]},"24":{"id":24,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/config.json","colorMarkers":[]},"28":{"id":28,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/development.json","colorMarkers":[]},"32":{"id":32,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/test.json","colorMarkers":[]},"36":{"id":36,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/authorize.js","colorMarkers":[]},"40":{"id":40,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/dashboard_helper.js","colorMarkers":[]},"44":{"id":44,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/exhbs.js","colorMarkers":[]},"48":{"id":48,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/mock.js","colorMarkers":[]},"52":{"id":52,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/rv.js","colorMarkers":[]},"56":{"id":56,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/views.js","colorMarkers":[]},"60":{"id":60,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/routes/index.js","colorMarkers":[]},"64":{"id":64,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/core/metadata.js","colorMarkers":[]},"68":{"id":68,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/models/metadata.js","colorMarkers":[]},"72":{"id":72,"path":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/test/v1/metadata.js","colorMarkers":[]}},"paths":[],"variables":{"deserializer":"VariablesCollection","content":[]}}},"fuzzy-finder":{"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/app/actions/index.js":1456773529203,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.production.config.js":1456777742971,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.extension.config.js":1456780760713,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/webpack.config.js":1456780763507,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/client/package.json":1456780766695,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/config.json":1456780781466,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/development.json":1456780791698,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/config/test.json":1456780798808,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/authorize.js":1456780802178,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/dashboard_helper.js":1456780806662,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/exhbs.js":1456780830440,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/mock.js":1456780832893,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/rv.js":1456780850328,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/lib/views.js":1456780852822,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/routes/index.js":1456780860096,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/core/metadata.js":1456781006570,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/models/metadata.js":1456781013251,"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/test/v1/metadata.js":1456786700888},"metrics":{"sessionLength":85914012},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep":{"isExpanded":true,"entries":{".git":{"isExpanded":false,"entries":{}},"app":{"isExpanded":true,"entries":{"config":{"isExpanded":true,"entries":{}},"lib":{"isExpanded":true,"entries":{}},"public":{"isExpanded":false,"entries":{}},"routes":{"isExpanded":true,"entries":{}},"server":{"isExpanded":true,"entries":{"api":{"isExpanded":false,"entries":{}},"config":{"isExpanded":false,"entries":{}},"controllers":{"isExpanded":false,"entries":{}},"core":{"isExpanded":true,"entries":{}},"lib":{"isExpanded":false,"entries":{}},"models":{"isExpanded":true,"entries":{}},"test":{"isExpanded":true,"entries":{"app":{"isExpanded":false,"entries":{}},"fixtures":{"isExpanded":false,"entries":{}},"util":{"isExpanded":false,"entries":{}},"v1":{"isExpanded":true,"entries":{}}}}}},"views":{"isExpanded":false,"entries":{}}}},"client":{"isExpanded":true,"entries":{"app":{"isExpanded":true,"entries":{"actions":{"isExpanded":true,"entries":{}},"components":{"isExpanded":false,"entries":{}},"css":{"isExpanded":false,"entries":{}},"reducers":{"isExpanded":false,"entries":{}},"sdk":{"isExpanded":false,"entries":{}},"stores":{"isExpanded":false,"entries":{}}}},"dist":{"isExpanded":false,"entries":{}},"fixtures":{"isExpanded":false,"entries":{}},"lib":{"isExpanded":false,"entries":{}},"spec":{"isExpanded":false,"entries":{}}}}}}},"selectedPath":"/Users/vmaudgalya/projects/merchant-experience-platform/mep-all/dev/mep/app/server/test/v1/metadata.js","hasFocus":true,"attached":true,"scrollLeft":0,"scrollTop":0,"width":282}},"fullScreen":false}
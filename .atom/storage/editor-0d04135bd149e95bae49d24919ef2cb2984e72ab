{"version":1,"windowDimensions":{"x":0,"y":23,"width":1440,"height":852,"maximized":true},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/Users/vmaudgalya/projects/webpack-dev-server"],"buffers":[{"text":"{\n  \"name\": \"webpack-dev-server\",\n  \"version\": \"1.14.1\",\n  \"author\": \"Varun Maudgalya\",\n  \"description\": \"Serves a webpack app with proxy options. Updates the browser on changes.\",\n  \"peerDependencies\": {\n    \"webpack\": \">=1.3.0 <3\"\n  },\n  \"dependencies\": {\n    \"compression\": \"^1.5.2\",\n    \"connect-history-api-fallback\": \"1.1.0\",\n    \"express\": \"^4.13.3\",\n    \"http-proxy\": \"^1.11.2\",\n    \"optimist\": \"~0.6.0\",\n    \"serve-index\": \"^1.7.2\",\n    \"sockjs\": \"^0.3.15\",\n    \"sockjs-client\": \"^1.0.3\",\n    \"stream-cache\": \"~0.0.1\",\n    \"strip-ansi\": \"^3.0.0\",\n    \"supports-color\": \"^3.1.1\",\n    \"webpack-dev-middleware\": \"^1.4.0\"\n  },\n  \"devDependencies\": {\n    \"css-loader\": \"~0.23.0\",\n    \"file-loader\": \"~0.8.4\",\n    \"jade\": \"^1.11.0\",\n    \"jade-loader\": \"~0.8.0\",\n    \"less\": \"^2.5.1\",\n    \"less-loader\": \"~2.2.0\",\n    \"style-loader\": \"~0.13.0\",\n    \"url-loader\": \"~0.5.6\",\n    \"webpack\": \"^1.12.1\"\n  },\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.paypal.com/vmaudgalya/webpack-dev-server\"\n  },\n  \"homepage\": \"https://github.paypal.com/vmaudgalya/webpack-dev-server\",\n  \"main\": \"lib/Server.js\",\n  \"bin\": \"bin/webpack-dev-server.js\",\n  \"files\": [\n    \"lib/\",\n    \"bin\",\n    \"client/\",\n    \"ssl/\"\n  ],\n  \"scripts\": {\n    \"prepublish\": \"webpack ./client/live.js client/live.bundle.js --colors --config client/webpack.config.js -p && webpack ./client/index.js client/index.bundle.js --colors --config client/webpack.config.js -p\"\n  }\n}\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"nextMarkerId":81,"id":"0","maintainHistory":false,"markersById":{"0-76":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"0-77":{"range":{"start":{"row":50,"column":0},"end":{"row":50,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"0-78":{"range":{"start":{"row":2,"column":0},"end":{"row":5,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"0-79":{"range":{"start":{"row":36,"column":0},"end":{"row":37,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"0-80":{"range":{"start":{"row":38,"column":0},"end":{"row":39,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}},"version":2},"1":{"nextMarkerId":0,"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"nextMarkerId":1,"id":"2","maintainHistory":true,"markersById":{"2-0":{"range":{"start":{"row":0,"column":1},"end":{"row":0,"column":1}},"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2}},"nextMarkerLayerId":3,"history":{"version":3,"nextCheckpointId":86,"undoStack":[{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[2,20],[2,20]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[2,19],[2,20]],"newRange":[[2,19],[2,19]],"oldText":"0","newText":""}},{"type":"change","content":{"oldRange":[[2,19],[2,19]],"newRange":[[2,19],[2,20]],"oldText":"","newText":"1"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[2,20],[2,20]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[3,13],[3,19]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[3,13],[3,19]],"newRange":[[3,13],[3,14]],"oldText":"Tobias","newText":"V"}},{"type":"change","content":{"oldRange":[[3,14],[3,14]],"newRange":[[3,14],[3,15]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[3,15],[3,15]],"newRange":[[3,15],[3,16]],"oldText":"","newText":"r"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[3,16],[3,16]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[3,16],[3,16]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[3,16],[3,16]],"newRange":[[3,16],[3,17]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[3,17],[3,17]],"newRange":[[3,17],[3,18]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[3,18],[3,18]],"newRange":[[3,18],[3,19]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[3,19],[3,19]],"newRange":[[3,19],[3,20]],"oldText":"","newText":"M"}},{"type":"change","content":{"oldRange":[[3,20],[3,20]],"newRange":[[3,20],[3,21]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[3,21],[3,21]],"newRange":[[3,21],[3,22]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[3,22],[3,22]],"newRange":[[3,22],[3,23]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[3,23],[3,23]],"newRange":[[3,23],[3,24]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[3,24],[3,24]],"newRange":[[3,24],[3,25]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[3,25],[3,25]],"newRange":[[3,25],[3,26]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[3,26],[3,26]],"newRange":[[3,26],[3,27]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[3,27],[3,27]],"newRange":[[3,27],[3,28]],"oldText":"","newText":"a"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[3,28],[3,28]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[3,38],[3,43]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[3,38],[3,43]],"newRange":[[3,38],[3,38]],"oldText":"sokra","newText":""}},{"type":"change","content":{"oldRange":[[3,37],[3,38]],"newRange":[[3,37],[3,37]],"oldText":"@","newText":""}},{"type":"change","content":{"oldRange":[[3,36],[3,37]],"newRange":[[3,36],[3,36]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[3,36],[3,36]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[3,36],[3,36]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[3,35],[3,36]],"newRange":[[3,35],[3,35]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[3,34],[3,35]],"newRange":[[3,34],[3,34]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[3,33],[3,34]],"newRange":[[3,33],[3,33]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[3,32],[3,33]],"newRange":[[3,32],[3,32]],"oldText":"p","newText":""}},{"type":"change","content":{"oldRange":[[3,31],[3,32]],"newRange":[[3,31],[3,31]],"oldText":"p","newText":""}},{"type":"change","content":{"oldRange":[[3,30],[3,31]],"newRange":[[3,30],[3,30]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[3,29],[3,30]],"newRange":[[3,29],[3,29]],"oldText":"K","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[3,29],[3,29]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[3,29],[3,29]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[3,28],[3,29]],"newRange":[[3,28],[3,28]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[3,28],[3,28]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[4,38],[4,38]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[4,38],[4,38]],"newRange":[[4,38],[4,39]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,39],[4,39]],"newRange":[[4,39],[4,40]],"oldText":"","newText":"w"}},{"type":"change","content":{"oldRange":[[4,40],[4,40]],"newRange":[[4,40],[4,41]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[4,41],[4,41]],"newRange":[[4,41],[4,42]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,42],[4,42]],"newRange":[[4,42],[4,43]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[4,43],[4,43]],"newRange":[[4,43],[4,44]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,44],[4,44]],"newRange":[[4,44],[4,45]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[4,45],[4,45]],"newRange":[[4,45],[4,46]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[4,46],[4,46]],"newRange":[[4,46],[4,47]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,47],[4,47]],"newRange":[[4,47],[4,48]],"oldText":"","newText":"x"}},{"type":"change","content":{"oldRange":[[4,48],[4,48]],"newRange":[[4,48],[4,49]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[4,49],[4,49]],"newRange":[[4,49],[4,50]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[4,50],[4,50]],"newRange":[[4,50],[4,51]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,51],[4,51]],"newRange":[[4,51],[4,52]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[4,52],[4,52]],"newRange":[[4,52],[4,53]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[4,53],[4,53]],"newRange":[[4,53],[4,54]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[4,54],[4,54]],"newRange":[[4,54],[4,55]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[4,55],[4,55]],"newRange":[[4,55],[4,56]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[4,56],[4,56]],"newRange":[[4,56],[4,57]],"oldText":"","newText":"s"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[4,57],[4,57]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[36,12],[36,59]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[36,12],[36,59]],"newRange":[[36,12],[36,67]],"oldText":"git://github.com/webpack/webpack-dev-server.git","newText":"https://github.paypal.com/vmaudgalya/webpack-dev-server"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[36,67],[36,67]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[38,15],[38,59]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[38,15],[38,59]],"newRange":[[38,15],[38,70]],"oldText":"http://github.com/webpack/webpack-dev-server","newText":"https://github.paypal.com/vmaudgalya/webpack-dev-server"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[38,70],[38,70]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[38,70],[38,70]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[2,0]],"oldText":"","newText":"<<<<<<< HEAD\n"}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[8,0]],"oldText":"","newText":"=======\n  \"name\": \"webpack-dev-server-mep\",\n  \"version\": \"0.0.1\",\n>>>>>>> 41e4b7e1f631003e55877cfe4142400f451b0e0a\n"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[43,70],[43,70]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[4,0],[7,48]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[4,0],[7,48]],"newRange":[[4,0],[4,0]],"oldText":"=======\n  \"name\": \"webpack-dev-server-mep\",\n  \"version\": \"0.0.1\",\n>>>>>>> 41e4b7e1f631003e55877cfe4142400f451b0e0a","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[3,22],[4,0]],"newRange":[[3,22],[3,22]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[3,22],[3,22]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[1,0],[1,12]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[1,0],[1,12]],"newRange":[[1,0],[1,0]],"oldText":"<<<<<<< HEAD","newText":""}},{"type":"change","content":{"oldRange":[[0,1],[1,0]],"newRange":[[0,1],[0,1]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[0,1],[0,1]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[0,1],[0,1]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[1,0],[1,0]],"newRange":[[1,0],[2,0]],"oldText":"","newText":"<<<<<<< HEAD\n"}},{"type":"change","content":{"oldRange":[[4,0],[4,0]],"newRange":[[4,0],[8,0]],"oldText":"","newText":"=======\n  \"name\": \"webpack-dev-server-mep\",\n  \"version\": \"0.0.1\",\n>>>>>>> 41e4b7e1f631003e55877cfe4142400f451b0e0a\n"}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[0,1],[0,1]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[4,0],[7,48]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[4,0],[7,48]],"newRange":[[4,0],[4,0]],"oldText":"=======\n  \"name\": \"webpack-dev-server-mep\",\n  \"version\": \"0.0.1\",\n>>>>>>> 41e4b7e1f631003e55877cfe4142400f451b0e0a","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[4,0],[4,0]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[3,22],[4,0]],"newRange":[[3,22],[3,22]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[3,22],[3,22]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"2-0":{"range":[[1,0],[1,12]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[1,0],[1,12]],"newRange":[[1,0],[1,0]],"oldText":"<<<<<<< HEAD","newText":""}},{"type":"change","content":{"oldRange":[[0,1],[1,0]],"newRange":[[0,1],[0,1]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"2":{"2-0":{"range":[[0,1],[0,1]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}}],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/webpack-dev-server/package.json","digestWhenLastPersisted":"a86d537699030825ce31a2646669f8439f1238f9","preferredLineEnding":null,"deserializer":"TextBuffer","version":4},{"text":"var fs = require(\"fs\");\nvar path = require(\"path\");\nvar webpackDevMiddleware = require(\"webpack-dev-middleware\");\nvar express = require(\"express\");\nvar compress = require(\"compression\");\nvar sockjs = require(\"sockjs\");\nvar StreamCache = require(\"stream-cache\");\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar httpProxy = require(\"http-proxy\");\nvar proxy = new httpProxy.createProxyServer({secure: false});\nvar serveIndex = require(\"serve-index\");\nvar historyApiFallback = require(\"connect-history-api-fallback\");\n\nfunction Server(compiler, options) {\n\t// Default options\n\tif(!options) options = {};\n\n\tif (options.lazy && !options.filename) {\n\t\tthrow new Error(\"'filename' option must be set in lazy mode.\");\n\t}\n\n\tthis.hot = options.hot;\n\tthis.headers = options.headers;\n\tthis.sockets = [];\n\n\t// Listening for events\n\tvar invalidPlugin = function() {\n\t\tthis.sockWrite(this.sockets, \"invalid\");\n\t}.bind(this);\n\tcompiler.plugin(\"compile\", invalidPlugin);\n\tcompiler.plugin(\"invalid\", invalidPlugin);\n\tcompiler.plugin(\"done\", function(stats) {\n\t\tthis._sendStats(this.sockets, stats.toJson());\n\t\tthis._stats = stats;\n\t}.bind(this));\n\n\t// Prepare live html page\n\tvar livePage = this.livePage = new StreamCache();\n\tfs.createReadStream(path.join(__dirname, \"..\", \"client\", \"live.html\")).pipe(livePage);\n\n\t// Prepare the live js file\n\tvar liveJs = new StreamCache();\n\tfs.createReadStream(path.join(__dirname, \"..\", \"client\", \"live.bundle.js\")).pipe(liveJs);\n\n\t// Prepare the inlined js file\n\tvar inlinedJs = new StreamCache();\n\tfs.createReadStream(path.join(__dirname, \"..\", \"client\", \"index.bundle.js\")).pipe(inlinedJs);\n\n\t// Init express server\n\tvar app = this.app = new express();\n\n\t// middleware for serving webpack bundle\n\tthis.middleware = webpackDevMiddleware(compiler, options);\n\n\tapp.get(\"/__webpack_dev_server__/live.bundle.js\", function(req, res) {\n\t\tres.setHeader(\"Content-Type\", \"application/javascript\");\n\t\tliveJs.pipe(res);\n\t});\n\n\tapp.get(\"/webpack-dev-server.js\", function(req, res) {\n\t\tres.setHeader(\"Content-Type\", \"application/javascript\");\n\t\tinlinedJs.pipe(res);\n\t});\n\n\tapp.get(\"/webpack-dev-server/*\", function(req, res) {\n\t\tres.setHeader(\"Content-Type\", \"text/html\");\n\t\tthis.livePage.pipe(res);\n\t}.bind(this));\n\n\tapp.get(\"/webpack-dev-server\", function(req, res) {\n\t\tres.setHeader(\"Content-Type\", \"text/html\");\n\t\tres.write('<!DOCTYPE html><html><head><meta charset=\"utf-8\"/></head><body>');\n\t\tvar path = this.middleware.getFilenameFromUrl(options.publicPath || \"/\");\n\t\tvar fs = this.middleware.fileSystem;\n\t\tfunction writeDirectory(baseUrl, basePath) {\n\t\t\tvar content = fs.readdirSync(basePath);\n\t\t\tres.write(\"<ul>\");\n\t\t\tcontent.forEach(function(item) {\n\t\t\t\tvar p = basePath + \"/\" + item;\n\t\t\t\tif(fs.statSync(p).isFile()) {\n\t\t\t\t\tres.write('<li><a href=\"');\n\t\t\t\t\tres.write(baseUrl + item);\n\t\t\t\t\tres.write('\">');\n\t\t\t\t\tres.write(item);\n\t\t\t\t\tres.write('</a></li>');\n\t\t\t\t\tif(/\\.js$/.test(item)) {\n\t\t\t\t\t\tvar htmlItem = item.substr(0, item.length - 3);\n\t\t\t\t\t\tres.write('<li><a href=\"');\n\t\t\t\t\t\tres.write(baseUrl + htmlItem);\n\t\t\t\t\t\tres.write('\">');\n\t\t\t\t\t\tres.write(htmlItem);\n\t\t\t\t\t\tres.write('</a> (magic html for ');\n\t\t\t\t\t\tres.write(item);\n\t\t\t\t\t\tres.write(') (<a href=\"');\n\t\t\t\t\t\tres.write(baseUrl.replace(/(^(https?:\\/\\/[^\\/]+)?\\/)/, \"$1webpack-dev-server/\") + htmlItem);\n\t\t\t\t\t\tres.write('\">webpack-dev-server</a>)</li>');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tres.write('<li>');\n\t\t\t\t\tres.write(item);\n\t\t\t\t\tres.write('<br>');\n\t\t\t\t\twriteDirectory(baseUrl + item + \"/\", p);\n\t\t\t\t\tres.write('</li>');\n\t\t\t\t}\n\t\t\t});\n\t\t\tres.write(\"</ul>\");\n\t\t}\n\t\twriteDirectory(options.publicPath || \"/\", path);\n\t\tres.end('</body></html>');\n\t}.bind(this));\n\n\tvar features = {\n\t\tcompress: function() {\n\t\t\tif (options.compress) {\n\t\t\t\t// Enable gzip compression.\n\t\t\t\tapp.use(compress());\n\t\t\t}\n\t\t}.bind(this),\n\n\t\tproxy: function() {\n\t\t\tif (options.proxy) {\n\t\t\t\tif (!Array.isArray(options.proxy)) {\n\t\t\t\t\toptions.proxy = Object.keys(options.proxy).map(function (path) {\n\t\t\t\t\t\tvar proxyOptions;\n\t\t\t\t\t\tif (typeof options.proxy[path] === 'string') {\n\t\t\t\t\t\t\tproxyOptions = {path: path, target: options.proxy[path]};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tproxyOptions = options.proxy[path];\n\t\t\t\t\t\t\tproxyOptions.path = path;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn proxyOptions;\n\t\t\t\t\t});\n\t\t\t\t}\n        if (options.onProxyReq) {\n          proxy.on('proxyReq', options.onProxyReq);\n        }\n\t\t\t\toptions.proxy.forEach(function (proxyOptions) {\n\t\t\t\t\tproxyOptions.ws = proxyOptions.hasOwnProperty('ws') ? proxyOptions.ws : true;\n\t\t\t\t\tapp.all(proxyOptions.path, function (req, res, next) {\n\t\t\t\t\t\tvar bypassUrl = typeof proxyOptions.bypass === 'function' ? proxyOptions.bypass(req, res, proxyOptions) : false;\n\t\t\t\t\t\tif (bypassUrl) {\n\t\t\t\t\t\t\treq.url = bypassUrl;\n\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(typeof proxyOptions.rewrite === 'function') proxyOptions.rewrite(req, proxyOptions);\n\t\t\t\t\t\t\tif (proxyOptions.host) {\n\t\t\t\t\t\t\t\treq.headers.host = proxyOptions.host;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tproxy.web(req, res, proxyOptions, function(err){\n\t\t\t\t\t\t\t\tvar msg = \"cannot proxy to \" + proxyOptions.target + \" (\" + err.message + \")\";\n\t\t\t\t\t\t\t\tthis.sockWrite(this.sockets, \"proxy-error\", [msg]);\n\t\t\t\t\t\t\t\tres.statusCode = 502;\n\t\t\t\t\t\t\t\tres.end();\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t\tif (proxyOptions.configure) {\n\t\t\t\t\t\t\t\tproxyOptions.configure(proxy);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}.bind(this),\n\n\t\thistoryApiFallback: function() {\n\t\t\tif (options.historyApiFallback) {\n\t\t\t\t// Fall back to /index.html if nothing else matches.\n\t\t\t\tapp.use(historyApiFallback(typeof options.historyApiFallback === 'object' ? options.historyApiFallback : null));\n\t\t\t}\n\t\t}.bind(this),\n\n\t\tcontentBase: function() {\n\t\t\tif(options.contentBase !== false) {\n\t\t\t\tvar contentBase = options.contentBase || process.cwd();\n\n\t\t\t\tif(typeof contentBase === \"object\") {\n\t\t\t\t\tconsole.log('Using contentBase as a proxy is deprecated and will be removed in the next major version. Please use the proxy option instead.\\n\\nTo update remove the contentBase option from webpack.config.js and add this:');\n\t\t\t\t\tconsole.log('proxy: {\\n\\t\"*\": <your current contentBase configuration>\\n}');\n\t\t\t\t\t// Proxy every request to contentBase.target\n\t\t\t\t\tapp.all(\"*\", function(req, res) {\n\t\t\t\t\t\tproxy.web(req, res, contentBase, function(err) {\n\t\t\t\t\t\t\tvar msg = \"cannot proxy to \" + contentBase.target + \" (\" + err.message + \")\";\n\t\t\t\t\t\t\tthis.sockWrite(this.sockets, \"proxy-error\", [msg]);\n\t\t\t\t\t\t\tres.statusCode = 502;\n\t\t\t\t\t\t\tres.end();\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else if(/^(https?:)?\\/\\//.test(contentBase)) {\n\t\t\t\t\t// Redirect every request to contentBase\n\t\t\t\t\tapp.get(\"*\", function(req, res) {\n\t\t\t\t\t\tres.writeHead(302, {\n\t\t\t\t\t\t\t'Location': contentBase + req.path + (req._parsedUrl.search || \"\")\n\t\t\t\t\t\t});\n\t\t\t\t\t\tres.end();\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else if(typeof contentBase === \"number\") {\n\t\t\t\t\t// Redirect every request to the port contentBase\n\t\t\t\t\tapp.get(\"*\", function(req, res) {\n\t\t\t\t\t\tres.writeHead(302, {\n\t\t\t\t\t\t\t'Location': \"//localhost:\" + contentBase + req.path + (req._parsedUrl.search || \"\")\n\t\t\t\t\t\t});\n\t\t\t\t\t\tres.end();\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else {\n\t\t\t\t\t// route content request\n\t\t\t\t\tapp.get(\"*\", express.static(contentBase), serveIndex(contentBase));\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this),\n\n\t\tmiddleware: function() {\n\t\t\t// include our middleware to ensure it is able to handle '/index.html' request after redirect\n\t\t\tapp.use(this.middleware);\n\t\t}.bind(this),\n\n\t\theaders: function() {\n\t\t\tapp.get(\"*\", this.setContentHeaders.bind(this));\n\t\t}.bind(this),\n\n\t\tmagicHtml: function() {\n\t\t\tapp.get(\"*\", this.serveMagicHtml.bind(this));\n\t\t}.bind(this),\n\n\t\tsetup: function() {\n\t\t\tif(typeof options.setup === \"function\")\n\t\t\t\toptions.setup(app);\n\t\t}.bind(this)\n\t};\n\n\tvar defaultFeatures = [\"setup\", \"headers\", \"middleware\"];\n\tif(options.proxy)\n\t\tdefaultFeatures.push(\"proxy\");\n\tif(options.historyApiFallback)\n\t\tdefaultFeatures.push(\"historyApiFallback\", \"middleware\");\n\tdefaultFeatures.push(\"magicHtml\");\n\tif(options.contentBase !== false)\n\t\tdefaultFeatures.push(\"contentBase\");\n\t// compress is placed last and uses unshift so that it will be the first middleware used\n\tif(options.compress)\n\t\tdefaultFeatures.unshift(\"compress\");\n\n\t(options.features || defaultFeatures).forEach(function(feature) {\n\t\tfeatures[feature]();\n\t}, this);\n\n\tif (options.https) {\n\t\t// for keep supporting CLI parameters\n\t\tif (typeof options.https === 'boolean') {\n\t\t\toptions.https = {\n\t\t\t\tkey: options.key,\n\t\t\t\tcert: options.cert,\n\t\t\t\tca: options.ca\n\t\t\t};\n\t\t}\n\n\t\t// using built-in self-signed certificate if no certificate was configured\n\t\toptions.https.key = options.https.key || fs.readFileSync(path.join(__dirname, \"../ssl/server.key\"));\n\t\toptions.https.cert = options.https.cert || fs.readFileSync(path.join(__dirname, \"../ssl/server.crt\"));\n\t\toptions.https.ca = options.https.ca || fs.readFileSync(path.join(__dirname, \"../ssl/ca.crt\"));\n\n\t\tthis.listeningApp = https.createServer(options.https, app);\n\t} else {\n\t\tthis.listeningApp = http.createServer(app);\n\t}\n}\n\nServer.prototype.use = function() {\n\tthis.app.use.apply(this.app, arguments);\n}\n\nServer.prototype.setContentHeaders = function(req, res, next) {\n\tif(this.headers) {\n\t\tfor(var name in this.headers) {\n\t\t\tres.setHeader(name, this.headers[name]);\n\t\t}\n\t}\n\n\tnext();\n}\n\n// delegate listen call and init sockjs\nServer.prototype.listen = function() {\n\tthis.listeningApp.listen.apply(this.listeningApp, arguments);\n\tvar sockServer = sockjs.createServer({\n\t\t// Limit useless logs\n\t\tlog: function(severity, line) {\n\t\t\tif (severity === \"error\") {\n\t\t\t\tconsole.log(line);\n\t\t\t}\n\t\t}\n\t});\n\tsockServer.on(\"connection\", function(conn) {\n\t\tthis.sockets.push(conn);\n\n\t\t// Remove the connection when it's closed\n\t\tconn.on(\"close\", function() {\n\t\t\tvar connIndex = this.sockets.indexOf(conn);\n\t\t\tif (connIndex >= 0) {\n\t\t\t\tthis.sockets.splice(connIndex, 1);\n\t\t\t}\n\t\t}.bind(this));\n\n\t\tif(this.hot) this.sockWrite([conn], \"hot\");\n\t\tif(!this._stats) return;\n\t\tthis._sendStats([conn], this._stats.toJson(), true);\n\t}.bind(this));\n\n\tsockServer.installHandlers(this.listeningApp, {\n\t\tprefix: '/sockjs-node'\n\t});\n}\n\nServer.prototype.close = function() {\n\tthis.sockets.forEach(function(sock) {\n\t\tsock.close();\n\t});\n\tthis.sockets = [];\n\tthis.middleware.close();\n}\n\nServer.prototype.sockWrite = function(sockets, type, data) {\n\tsockets.forEach(function(sock) {\n\t\tsock.write(JSON.stringify({type: type, data: data}));\n\t});\n}\n\nServer.prototype.serveMagicHtml = function(req, res, next) {\n\tvar _path = req.path;\n\ttry {\n\t\tif(!this.middleware.fileSystem.statSync(this.middleware.getFilenameFromUrl(_path + \".js\")).isFile())\n\t\t\treturn next();\n\t\t// Serve a page that executes the javascript\n\t\tres.write('<!DOCTYPE html><html><head><meta charset=\"utf-8\"/></head><body><script type=\"text/javascript\" charset=\"utf-8\" src=\"');\n\t\tres.write(_path);\n\t\tres.write('.js');\n\t\tres.write(req._parsedUrl.search || \"\");\n\t\tres.end('\"></script></body></html>');\n\t} catch(e) { return next(); }\n}\n\n// send stats to a socket or multiple sockets\nServer.prototype._sendStats = function(sockets, stats, force) {\n\tif(!force && stats && (!stats.errors || stats.errors.length === 0) && stats.assets && stats.assets.every(function(asset) {\n\t\treturn !asset.emitted;\n\t})) return this.sockWrite(sockets, \"still-ok\");\n\tthis.sockWrite(sockets, \"hash\", stats.hash);\n\tif(stats.errors.length > 0)\n\t\tthis.sockWrite(sockets, \"errors\", stats.errors);\n\telse if(stats.warnings.length > 0)\n\t\tthis.sockWrite(sockets, \"warnings\", stats.warnings);\n\telse\n\t\tthis.sockWrite(sockets, \"ok\");\n}\n\nServer.prototype.invalidate = function() {\n\tif(this.middleware) this.middleware.invalidate();\n}\n\nmodule.exports = Server;\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"nextMarkerId":34,"id":"0","maintainHistory":false,"markersById":{"0-32":{"range":{"start":{"row":134,"column":0},"end":{"row":137,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"0-33":{"range":{"start":{"row":301,"column":0},"end":{"row":302,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}},"version":2},"1":{"nextMarkerId":3,"id":"1","maintainHistory":false,"markersById":{"1-2":{"range":{"start":{"row":14,"column":0},"end":{"row":264,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"2":{"nextMarkerId":1,"id":"2","maintainHistory":true,"markersById":{"2-0":{"range":{"start":{"row":14,"column":0},"end":{"row":15,"column":0}},"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false,"preserveFolds":true,"wordRegex":{}},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}},"version":2},"3":{"nextMarkerId":10,"id":"3","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":4,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/webpack-dev-server/lib/Server.js","digestWhenLastPersisted":"b45e7af9d1f6cf2f5e28b2406f6b5cedc3559f60","preferredLineEnding":null,"deserializer":"TextBuffer","version":4}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":4,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":5,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/webpack-dev-server/package.json","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":8,"softTabs":true,"firstVisibleScreenRow":16,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":9,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/webpack-dev-server/lib/Server.js","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/Users/vmaudgalya/projects/webpack-dev-server/lib/Server.js","focused":false,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-json","language-babel","language-hyperlink","language-todo"],"destroyedItemURIs":["/Users/vmaudgalya/projects/webpack-dev-server/.gitignore"]},"packageStates":{"linter":{"scope":"File"},"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-01-12T19:23:24.942Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"4":{"id":4,"path":"/Users/vmaudgalya/projects/webpack-dev-server/package.json","colorMarkers":[]},"8":{"id":8,"path":"/Users/vmaudgalya/projects/webpack-dev-server/lib/Server.js","colorMarkers":[]}},"paths":["/Users/vmaudgalya/projects/webpack-dev-server/example/style.less"],"variables":{"deserializer":"VariablesCollection","content":[]}}},"fuzzy-finder":{"/Users/vmaudgalya/projects/webpack-dev-server/package.json":1452204927406,"/Users/vmaudgalya/projects/webpack-dev-server/lib/Server.js":1452207559995},"metrics":{"sessionLength":421682955},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/vmaudgalya/projects/webpack-dev-server":{"isExpanded":true,"entries":{"bin":{"isExpanded":false,"entries":{}},"client":{"isExpanded":false,"entries":{}},"example":{"isExpanded":false,"entries":{}},"lib":{"isExpanded":true,"entries":{}},"ssl":{"isExpanded":false,"entries":{}},".git":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/vmaudgalya/projects/webpack-dev-server/lib/Server.js","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200},"find-and-replace":{"findOptions":{"findPattern":"features","replacePattern":"","pathsPattern":"","useRegex":false,"wholeWord":false,"caseSensitive":false,"inCurrentSelection":false},"findHistory":["features"],"replaceHistory":[],"pathsHistory":[]}},"fullScreen":false}
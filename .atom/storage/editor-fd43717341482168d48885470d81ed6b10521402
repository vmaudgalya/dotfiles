{"version":1,"windowDimensions":{"x":0,"y":0,"width":1440,"height":896,"maximized":true},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/Users/vmaudgalya/projects/docker-wiki/certs"],"buffers":[{"id":"302581e8ee261339823590c3b700eda2","text":"#!/bin/bash\n# ----------------------------------------------------------------------\n#\n# ----------------------------------------------------------------------\n\nset -e\n\nVM_NAME=\"default\"\nVM_CERT_DIR=\"/var/lib/boot2docker/certs\"\nVM_CERT_RELOAD=\"/etc/rc.d/install-ca-certs\"\n\nVM_BROIL_TIME=60\t# seconds\nVM_RESTART=\"yes\"\n\nCERTS=\"PayPalRoot.crt PayPalInc.crt\"\n\n# ----------------------------------------------------------------------\n\nfunction usage() {\n  echo\n  echo \"usage: $0 [ -c <certs-file-list> ] [-m vm-name ]\"\n\n  exit 1\n}\n\nwhile getopts \"b:c:hm:r\" opt; do\n  case \"${opt}\" in\n    b)   VM_BROIL_TIME=\"${OPTARG}\" ;;\n    c)   CERTS=\"${OPTARG}\"         ;;\n    m)   VM_NAME=\"${OPTARG}\"       ;;\n    n)   VM_RESTART=\"no\"           ;;\n    h|*) usage                     ;;\n  esac\ndone\n\necho\n\n# ----------------------------------------------------------------------\n\necho \" * uploading ROOT CA SSL certificates\"\necho\n\ndocker-machine ssh ${VM_NAME} sudo mkdir \"${VM_CERT_DIR}\"\n\nfor cert in ${CERTS}; do\n  c=\"$(basename $cert)\"\n  c2=\"${c%.*}.pem\"\n\n  docker-machine scp \"${cert}\" \"${VM_NAME}:${c}\"\n  docker-machine ssh ${VM_NAME} dos2unix \"${c}\"\n  docker-machine ssh ${VM_NAME} sudo cp \"${c}\" \"${VM_CERT_DIR}/${c2}\"\ndone\n\nif [[ \"${VM_RESTART}\" == \"no\" ]]; then\n  echo\n  echo \" * activating (re-initializing) CA certificates file\"\n\n  docker-machine ssh ${VM_NAME} sudo \"${VM_CERT_RELOAD}\"\nfi\n\n# docker-machine ssh ${VM_NAME} ls -l \"${VM_CERT_DIR}\"\n\necho\necho \"------------------------------------------------------------------\"\necho \" workaround for boot2docker bug #834\"\necho \" https://github.com/boot2docker/boot2docker/issues/834\"\necho \"------------------------------------------------------------------\"\necho\necho \" * broiling the boot2docker machine for ${VM_BROIL_TIME} seconds ...\"\n\nsleep ${VM_BROIL_TIME}\n\necho \"                                 ... let's hope it is edible by now.\"\n\nif [[ \"${VM_RESTART}\" == \"yes\" ]]; then\n  echo\n  echo \" * restarting boot2docker VM ...\"\n  echo\n\n  docker-machine restart ${VM_NAME}\nfi\n\n# ----------------------------------------------------------------------\n# eof\n#\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"2":{"range":{"start":{"row":64,"column":38},"end":{"row":64,"column":42}},"properties":{"type":"pigments-color"},"reversed":false,"tailed":true,"valid":true,"invalidate":"touch"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":42,"column":40},"end":{"row":42,"column":40}},"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"4":{"id":"4","maintainHistory":false,"markersById":{},"version":2},"5":{"id":"5","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":6,"history":{"version":3,"nextCheckpointId":8,"undoStack":[{"type":"group-start","snapshot":{"2":{"1":{"range":[[42,43],[42,43]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[42,42],[42,43]],"newRange":[[42,42],[42,42]],"oldText":"p","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[42,42],[42,42]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[42,42],[42,42]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[42,41],[42,42]],"newRange":[[42,41],[42,41]],"oldText":"-","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[42,41],[42,41]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[42,41],[42,41]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[42,40],[42,41]],"newRange":[[42,40],[42,40]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[42,40],[42,40]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[42,40],[42,40]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[77,6],[77,7]],"newRange":[[77,6],[77,6]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[75,6],[75,7]],"newRange":[[75,6],[75,6]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[42,40],[42,40]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}}],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/docker-wiki/certs/boot2docker-pp-certs.sh","digestWhenLastPersisted":"68d13fb376458ddf2f168e995c05e0dbcf53e565","preferredLineEnding":null,"nextMarkerId":17,"deserializer":"TextBuffer","version":5}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":4,"softTabs":false,"firstVisibleScreenRow":21,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":5,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/docker-wiki/certs/boot2docker-pp-certs.sh","bufferId":"302581e8ee261339823590c3b700eda2","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/Users/vmaudgalya/projects/docker-wiki/certs/boot2docker-pp-certs.sh","focused":true,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-shellscript","language-hyperlink","language-todo"],"destroyedItemURIs":[]},"packageStates":{"linter":{"scope":"File"},"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-03-15T02:13:44.445Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"4":{"id":4,"path":"/Users/vmaudgalya/projects/docker-wiki/certs/boot2docker-pp-certs.sh","colorMarkers":[{"markerId":"2","bufferRange":[[64,38],[64,42]],"color":[136,51,68,1],"text":"#834","variables":[]}]}},"paths":[],"variables":{"deserializer":"VariablesCollection","content":[]}}},"find-and-replace":{"findOptions":{"findPattern":"docker-machine ssh ${VM_NAME} sudo mkdir -p \"${VM_CERT_DIR}","replacePattern":"","pathsPattern":"","useRegex":false,"wholeWord":false,"caseSensitive":false,"inCurrentSelection":false},"findHistory":["docker-machine ssh ${VM_NAME}","docker-machine ssh ${VM_NAME} sudo mkdir -p \"${VM_CERT_DIR}"],"replaceHistory":[],"pathsHistory":[]},"fuzzy-finder":{"/Users/vmaudgalya/projects/docker-wiki/certs/boot2docker-pp-certs.sh":1457983543999},"metrics":{"sessionLength":24482467},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/vmaudgalya/projects/docker-wiki/certs":{"isExpanded":true,"entries":{}}},"selectedPath":"/Users/vmaudgalya/projects/docker-wiki/certs/boot2docker-pp-certs.sh","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}
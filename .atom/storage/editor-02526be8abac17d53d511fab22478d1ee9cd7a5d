{"version":1,"windowDimensions":{"x":0,"y":0,"width":1425,"height":885,"maximized":false},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/Users/vmaudgalya/projects/personal/self-driving-robot"],"buffers":[{"id":"7bdaee7a3fed42cd604c7fdd60570d76","text":"# USAGE\n# python object_tracker.py --video object_tracker_example.mp4\n# python object_tracker.py\n\n# import the necessary packages\nfrom collections import deque\nimport numpy as np\nimport argparse\nimport imutils\nimport cv2\n\n# construct the argument parse and parse the arguments\nap = argparse.ArgumentParser()\nap.add_argument(\"-v\", \"--video\",\n\thelp=\"path to the (optional) video file\")\nap.add_argument(\"-b\", \"--buffer\", type=int, default=64,\n\thelp=\"max buffer size\")\nargs = vars(ap.parse_args())\n\n# define the lower and upper boundaries of the \"green\"\n# ball in the HSV color space, then initialize the\n# list of tracked points\ngreenLower = (29, 86, 6)\ngreenUpper = (64, 255, 255)\npts = deque(maxlen=args[\"buffer\"])\n\n# if a video path was not supplied, grab the reference\n# to the webcam\nif not args.get(\"video\", False):\n\tcamera = cv2.VideoCapture(0)\n\n# otherwise, grab a reference to the video file\nelse:\n\tcamera = cv2.VideoCapture(args[\"video\"])\n\n# keep looping\nwhile True:\n\t# grab the current frame\n\t(grabbed, frame) = camera.read()\n\n\t# if we are viewing a video and we did not grab a frame,\n\t# then we have reached the end of the video\n\tif args.get(\"video\") and not grabbed:\n\t\tbreak\n\n\t# resize the frame, blur it, and convert it to the HSV\n\t# color space\n\tframe = imutils.resize(frame, width=600)\n\tblurred = cv2.GaussianBlur(frame, (11, 11), 0)\n\thsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)\n\n\t# construct a mask for the color \"green\", then perform\n\t# a series of dilations and erosions to remove any small\n\t# blobs left in the mask\n\tmask = cv2.inRange(hsv, greenLower, greenUpper)\n\t# mask = cv2.erode(mask, None, iterations=2)\n\t# mask = cv2.dilate(mask, None, iterations=2)\n\t# res = cv2.bitwise_and(frame,frame, mask= mask)\n\n\t# find contours in the mask and initialize the current\n\t# (x, y) center of the ball\n\tcnts = cv2.findContours(mask.copy(), cv2.RETR_EXTERNAL,\n\t\tcv2.CHAIN_APPROX_SIMPLE)[-2]\n\tcenter = None\n\n\t# only proceed if at least one contour was found\n\tif len(cnts) > 0:\n\t\t# find the largest contour in the mask, then use\n\t\t# it to compute the minimum enclosing circle and\n\t\t# centroid\n\t\tc = max(cnts, key=cv2.contourArea)\n\t\t((x, y), radius) = cv2.minEnclosingCircle(c)\n\t\tM = cv2.moments(c)\n\t\tcenter = (int(M[\"m10\"] / M[\"m00\"]), int(M[\"m01\"] / M[\"m00\"]))\n\n\t\t# only proceed if the radius meets a minimum size\n\t\tif radius > 1:\n\t\t\t# draw the circle and centroid on the frame,\n\t\t\t# then update the list of tracked points\n\t\t\tcv2.circle(frame, (int(x), int(y)), int(radius), (255, 255, 255), -10)\n\t\t\tcv2.circle(frame, center, 5, (255, 255, 255), -10)\n\n\t# update the points queue\n\tpts.appendleft(center)\n\n\t# loop over the set of tracked points\n\tfor i in xrange(1, len(pts)):\n\t\t# if either of the tracked points are None, ignore\n\t\t# them\n\t\tif pts[i - 1] is None or pts[i] is None:\n\t\t\tcontinue\n\n\t\t# otherwise, compute the thickness of the line and\n\t\t# draw the connecting lines\n\t\tthickness = int(np.sqrt(args[\"buffer\"] / float(i + 1)) * 2.5)\n\t\tcv2.line(frame, pts[i - 1], pts[i], (0, 0, 255), thickness)\n\n\t# gray_image = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n\n\t# retVal, dst = cv2.threshold(gray_image, 100, 255, cv2.THRESH_BINARY)\n\t# show the frame to our screen\n\tcv2.imshow(\"Frame\", frame)\n\tkey = cv2.waitKey(1) & 0xFF\n\n\t# if the 'q' key is pressed, stop the loop\n\tif key == ord(\"q\"):\n\t\tbreak\n\n# cleanup the camera and close any open windows\ncamera.release()\ncv2.destroyAllWindows()","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"32":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"37":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"52":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"89":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"97":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"145":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"150":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"165":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"291":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"302":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"517":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"600":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"976":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"1136":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"1409":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"1411":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"1423":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"1473":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"1504":{"range":{"start":{"row":110,"column":23},"end":{"row":110,"column":23}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap"},"2001":{"range":{"start":{"row":19,"column":48},"end":{"row":19,"column":53}},"properties":{"type":"pigments-color"},"reversed":false,"tailed":true,"valid":true,"invalidate":"touch"},"2002":{"range":{"start":{"row":51,"column":35},"end":{"row":51,"column":40}},"properties":{"type":"pigments-color"},"reversed":false,"tailed":true,"valid":true,"invalidate":"touch"},"2059":{"range":{"start":{"row":101,"column":26},"end":{"row":101,"column":27}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"2060":{"range":{"start":{"row":101,"column":11},"end":{"row":101,"column":12}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"2061":{"range":{"start":{"row":57,"column":0},"end":{"row":58,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"2062":{"range":{"start":{"row":79,"column":0},"end":{"row":81,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"2063":{"range":{"start":{"row":101,"column":0},"end":{"row":102,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":101,"column":26},"end":{"row":101,"column":26}},"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"3":{"id":"3","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":4,"history":{"version":3,"nextCheckpointId":1101,"undoStack":[{"type":"group-start","snapshot":{"2":{"1":{"range":[[57,3],[57,3]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[57,1],[57,1]],"newRange":[[57,1],[57,3]],"oldText":"","newText":"# "}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[57,5],[57,5]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[76,10],[76,10]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[76,2],[76,4]],"newRange":[[76,2],[76,2]],"oldText":"# ","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[76,8],[76,8]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[79,20],[80,20]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[79,3],[79,5]],"newRange":[[79,3],[79,3]],"oldText":"# ","newText":""}},{"type":"change","content":{"oldRange":[[80,3],[80,5]],"newRange":[[80,3],[80,3]],"oldText":"# ","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[79,18],[80,18]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[79,14],[79,17]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[79,14],[79,17]],"newRange":[[79,14],[79,15]],"oldText":"res","newText":"f"}},{"type":"change","content":{"oldRange":[[79,15],[79,15]],"newRange":[[79,15],[79,16]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[79,16],[79,16]],"newRange":[[79,16],[79,17]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[79,17],[79,17]],"newRange":[[79,17],[79,18]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[79,18],[79,18]],"newRange":[[79,18],[79,19]],"oldText":"","newText":"e"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[79,19],[79,19]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[80,14],[80,17]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[80,14],[80,17]],"newRange":[[80,14],[80,15]],"oldText":"res","newText":"f"}},{"type":"change","content":{"oldRange":[[80,15],[80,15]],"newRange":[[80,15],[80,16]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[80,16],[80,16]],"newRange":[[80,16],[80,17]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[80,17],[80,17]],"newRange":[[80,17],[80,18]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[80,18],[80,18]],"newRange":[[80,18],[80,19]],"oldText":"","newText":"e"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[80,19],[80,19]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[101,21],[101,24]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[101,21],[101,24]],"newRange":[[101,21],[101,22]],"oldText":"res","newText":"f"}},{"type":"change","content":{"oldRange":[[101,22],[101,22]],"newRange":[[101,22],[101,23]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[101,23],[101,23]],"newRange":[[101,23],[101,24]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[101,24],[101,24]],"newRange":[[101,24],[101,25]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[101,25],[101,25]],"newRange":[[101,25],[101,26]],"oldText":"","newText":"e"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[101,26],[101,26]],"properties":{"type":"selection","goalScreenRange":null,"clip":"forward","autoscroll":false,"includeNonWordCharacters":false,"preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}}],"redoStack":[]},"encoding":"utf8","filePath":"/Users/vmaudgalya/projects/personal/self-driving-robot/object_tracker.py","digestWhenLastPersisted":"678e96880d656d8061d54b267d7855569fa1ba79","preferredLineEnding":"\n","nextMarkerId":2064,"deserializer":"TextBuffer","version":5}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":8,"softTabs":true,"firstVisibleScreenRow":60,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":9,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/vmaudgalya/projects/personal/self-driving-robot/object_tracker.py","bufferId":"7bdaee7a3fed42cd604c7fdd60570d76","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/Users/vmaudgalya/projects/personal/self-driving-robot/object_tracker.py","focused":true,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-python","language-hyperlink","language-todo"],"destroyedItemURIs":["atom://config"]},"packageStates":{"linter":{"scope":"File"},"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-02-14T00:58:39.902Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"8":{"id":8,"path":"/Users/vmaudgalya/projects/personal/self-driving-robot/object_tracker.py","colorMarkers":[{"markerId":"2001","bufferRange":[[19,48],[19,53]],"color":[0,128,0,1],"text":"green","variables":[]},{"markerId":"2002","bufferRange":[[51,35],[51,40]],"color":[0,128,0,1],"text":"green","variables":[]}]}},"paths":[],"variables":{"deserializer":"VariablesCollection","content":[]}}},"find-and-replace":{"findOptions":{"findPattern":"","replacePattern":"","pathsPattern":"","useRegex":false,"wholeWord":false,"caseSensitive":false,"inCurrentSelection":false},"findHistory":[],"replaceHistory":[],"pathsHistory":[]},"fuzzy-finder":{"/Users/vmaudgalya/projects/personal/self-driving-robot/object_tracker.py":1455303821661},"metrics":{"sessionLength":107698101},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/vmaudgalya/projects/personal/self-driving-robot":{"isExpanded":true,"entries":{".git":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/vmaudgalya/projects/personal/self-driving-robot","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}